<section class="mag-posts-area d-flex flex-wrap">
  <div class="mag-posts-content mt-30 mb-30 p-30 box-shadow">
    <form #saleSearchForm="ngForm" (submit)="getSales('btn')">
      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="saleDate" [translate]="'sale.saleDate'">Sale date</label>
          <input type="date"
                 [(ngModel)]="sale.saleDate"
                 class="form-control"
                 id="saleDate"
                 name="saleDate"
                 placeholder="{{'sale.saleDate' | translate}}">
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-8 col-sm-8">
          <button type="submit" class="btn btn-primary button-size" [translate]="'search.button'">
            <i class="fa fa-search"></i> Search
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="thead-light">
      <tr>
        <th scope="col" style="width: 15%;" [translate]="'sale.products'">Products</th>
        <th scope="col" style="width: 15%;" [translate]="'sale.total'">Total</th>
        <th scope="col" style="width: 15%;" [translate]="'sale.shippingCost'">Shipping cost</th>
        <th scope="col" style="width: 15%;" [translate]="'sale.saleDate'">Sale date</th>
        <th scope="col" style="width: 15%;" [translate]="'sale.saleState'">Sale state</th>
        <th scope="col" style="width: 15%;" [translate]="'sale.user'">Buyer info</th>
        <th scope="col" style="width: 10%;"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngIf="saleList.length === 0">
        <td colspan="8" align="center" class="table-empty" [translate]="'general.empty'">Elements not found!</td>
      </tr>
      <tr *ngFor="let sale of saleList; trackBy: trackIdentity">
        <td>{{sale.items}}</td>
        <td>{{'(USD) ' + (sale.total + sale.shippingCost)}}</td>
        <td>{{'(USD) ' + sale.shippingCost}}</td>
        <td>{{sale.saleDate}}</td>
        <td [translate]="sale.saleState"></td>
        <td [translate]="sale.shipping.fullName + ', ' + sale.shipping.phone + ', ' + sale.shipping.email + ', '
        + sale.shipping.line1 + (sale.shipping.line2 !== null ? sale.shipping.line2 : '')
        + ', ' + sale.shipping.city + ', ' + (sale.shipping.state !== null ? sale.shipping.state + ', ' : '')
        + sale.shipping.country.code + ', ' + sale.shipping.postalCode"></td>
        <td>
          <button class="btn btn-primary table-button"
                  (click)="editSale(sale)"><i class="fa fa-edit"></i>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
<ngb-pagination class="d-flex justify-content-center"
                [collectionSize]="totalItems"
                [(page)]="page"
                [pageSize]="itemsPerPage"
                [maxSize]="5"
                [rotate]="true"
                [boundaryLinks]="true"
                (pageChange)="getSales(null)"></ngb-pagination>
